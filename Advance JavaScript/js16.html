<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScrpt Fetch</title>
</head>

<body>
    <h1>JavaScrpt Fetch</h1>
    <form action="" id="myForm">
        Title <input type="text" name="" id="titleText"> <br><br>
        Body <input type="text" name="" id="bodyText"> <br><br>
        User Id <input type="text" name="" id="userid"> <br><br>
        <input type="submit" id="saveForm">
    </form>
    <script>
        /*
        fetch("content/readme.txt")
        .then((response) => {
            // console.log(response)
            // console.log(response.text())
            return response.text();
        })
        .then((data) => {
            // console.log(data)
            document.write(data)
         })
         */

        /*
       //  Short Methods
        fetch("content/readme.txt")
        .then((response) => response.text())
        .then((data) => document.write(data))
        .then((data) => console.log(data))
        */

        /*
        fetch("https://jsonplaceholder.typicode.com/users")
        .then((response) => response.json())
        .then((data) => console.log(data))
       //  .catch((error) => document.write("Can't Fetch Data"))
        .catch((error) => console.log("Can't Fetch Data"))
        */

        /*
        fetch("https://jsonplaceholder.typicode.com/users")
        .then((response) => response.json())
        .then((data) => {

           console.log(data)
           for(let x in data){
               // document.write(`${data[x].name} - ${data[x].email} - ${data[x].address.city} </br>`)

               let a = `${data[x].name} - ${data[x].email} - ${data[x].address.city} </br>`;

               document.write(a)
               // console.log(a)
           }

        })
        .catch((error) => console.log("Can't Fetch Data"))
        */

        /*
            fetch("json/student_data.json")
            .then((response) => response.json())
            .then((data) => {
                console.log(data)
            })
            .catch((error) => console.log("Can't Fetch Data"))
            */



        /*
    fetch("json/student_data.json")
        .then((response) => response.json())
        .then((data) => {
            console.log(data)
            for (let x in data) {     
                let a = `${data[x].name} - ${data[x].age} - ${data[x].city} </br>`;
                document.write(a)
                // console.log(a)
            }
        })
        .catch((error) => console.log("Can't Fetch Data"))
        */

        /*
        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify({
                title: 'foo',
                body: 'bar',
                userId: 1,
            }),
            headers: {
                'Content-type': 'application/json; charset=UTF-8',
            },
        })
            .then((response) => response.json())
            .then((json) => console.log(json));
            */

        /*
        let obj = {
            title: 'foo',
            body: 'bar',
            userId: 1,
        };
    fetch('https://jsonplaceholder.typicode.com/posts', {
        method: 'POST',
        body: JSON.stringify(obj),
        headers: {
            'Content-type': 'application/json; charset=UTF-8',
        },
    })
        .then((response) => response.json())
        .then((json) => console.log(json));
        */

        /*
        document.getElementById("saveForm").addEventListener("click", function (e) {
            e.preventDefault();
            let obj = {
                title: document.getElementById("titleText").value,
                body: document.getElementById("bodyText").value,
                userId: document.getElementById("userid").value,
            };
            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: JSON.stringify(obj),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
                .then((response) => response.json())
                .then((json) => console.log(json));

        })
        */

        document.getElementById("saveForm").addEventListener("click", function (e) {
            e.preventDefault();
            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: new FormData(document.getElementById("myForm")),
                headers: {
                    'Content-type': 'application/x-www-form-urlencoded',
                },
            })
                .then((response) => response.json())
                .then((json) => console.log(json));

        })










    </script>
</body>

</html>